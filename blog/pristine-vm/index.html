<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Clone virtual machines to keep a pristine image | Tangamandapio</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="../../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (eo)" href="../../eo/rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (es)" href="../../es/rss.xml">
<link rel="canonical" href="http://elopio.net/blog/pristine-vm/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Leo Arias">
<link rel="prev" href="../ubuntu-testing-day-wrap-up-20161125/" title="Ubuntu Testing Day wrap up - 20161125" type="text/html">
<link rel="next" href="../ubuntu-testing-day-wrap-up-20161202/" title="Ubuntu Testing Day wrap up - 20161202" type="text/html">
<meta property="og:site_name" content="Tangamandapio">
<meta property="og:title" content="Clone virtual machines to keep a pristine image">
<meta property="og:url" content="http://elopio.net/blog/pristine-vm/">
<meta property="og:description" content="The basic idea of using virtual machines for testing is to always start from a clean state, as close as possible to what a user would get after freshly installing the system on their real machines.
So">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2016-12-02T10:31:13-06:00">
<meta property="article:tag" content="free software">
<meta property="article:tag" content="testing">
<meta property="article:tag" content="ubuntu">
<link rel="alternate" hreflang="eo" href="../../eo/blog/pristine-vm/">
<link rel="alternate" hreflang="es" href="../../es/blog/pristine-vm/">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Header and menu bar -->
<div class="container">
      <header class="blog-header py-3"><div class="row nbb-header align-items-center">
          <div class="col-md-3 col-xs-2 col-sm-2" style="width: auto;">
            <button class="navbar-toggler navbar-light bg-light nbb-navbar-toggler" type="button" data-toggle="collapse" data-target=".bs-nav-collapsible" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse bs-nav-collapsible bootblog4-search-form-holder">
                
            </div>
        </div>
          <div class="col-md-6 col-xs-10 col-sm-10 bootblog4-brand" style="width: auto;">
            <a class="navbar-brand blog-header-logo text-dark" href="http://elopio.net/">

            <span id="blog-title">Tangamandapio</span>
        </a>
          </div>
            <div class="col-md-3 justify-content-end align-items-center bs-nav-collapsible collapse flex-collapse bootblog4-right-nav">
            <nav class="navbar navbar-light bg-white"><ul class="navbar-nav bootblog4-right-nav">
<li class="nav-item"><a href="http://elopio.net/eo/" rel="alternate" hreflang="eo" class="nav-link">Esperante</a></li>
            <li class="nav-item"><a href="http://elopio.net/es/" rel="alternate" hreflang="es" class="nav-link">Español</a></li>

                    
                    
    
    <li class="nav-item">
    <a href="index.tex" id="sourcelink" class="nav-link">Source</a>
    </li>


                    
            </ul></nav>
</div>
    </div>
</header><nav class="navbar navbar-expand-md navbar-light bg-white static-top"><div class="collapse navbar-collapse bs-nav-collapsible" id="bs-navbar">
            <ul class="navbar-nav nav-fill d-flex w-100">
<li class="nav-item">
<a href="../../archive.html" class="nav-link">Archive</a>
                </li>
<li class="nav-item">
<a href="../../categories/" class="nav-link">Tags</a>
                </li>
<li class="nav-item">
<a href="../../rss.xml" class="nav-link">RSS feed</a>
                </li>
<li class="nav-item">
<a href="../../notebook" class="nav-link">Notebook</a>

                
            </li>
</ul>
</div>
<!-- /.navbar-collapse -->
</nav>
</div>

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Clone virtual machines to keep a pristine image</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Leo Arias
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2016-12-02T10:31:13-06:00" itemprop="datePublished" title="2016-12-02 10:31">2016-12-02 10:31</time></a>
            </p>
            
        <p class="sourceline"><a href="index.tex" class="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>The basic idea of using virtual machines for testing is to always start from a clean state, as close as possible to what a user would get after freshly installing the system on their real machines.</p>
<p>So, every time we need to test something, we could <a href="http://elopio.net/blog/install-ubuntu-in-vm/">create a new virtual machine and intall Ubuntu from scratch there</a>, but that would take a considerable amount of time.</p>
<p>An alternative is to install a machine once, and keep it clean. Never test in that one, and instead clone it every time you need to test something. Use the clone to experiment, and delete it when you are done. Cloning the machine is a lot faster than reinstalling each time. The base machine, the one you clone everytime, is called a pristine machine. If you are careful with it, the only time you will need to reinstall is when you are testing the installer.</p>
<p>Cloning the pristine machine using Virtual Machine Manager is really simple, it’s done in like two clicks.</p>
<p>First, of course, you will need to <a href="http://elopio.net/blog/install-ubuntu-in-vm/">install your pristine machine</a>. I always put pristine in the name, to make it less likely that I will start using it for testing. Every time I forget and play with the pristine machine, I’m polluting its state, and have to recreate it.</p>
<p>With the pristine machine ready, I then recommend to open it and run in a terminal:</p>
<pre><code>  sudo apt update &amp;&amp; sudo apt upgrade</code></pre>
<p>That will update all the packages installed, so your clone starts also in the most up-to-date state. If you do this step every time, you will never have to wait for long while your machine downloads and installs lots of packages, just wait a little every day.</p>
<p><a href="https://archive.org/download/elopio-screenshots2/clone/1-update.png"> <img src="https://archive.org/download/elopio-screenshots2/clone/1-update.png" alt="image"></a></p>
<p>Now shut down the pristine machine and don’t touch it again, only to update it.</p>
<p>To clone it, right click on it and then click the <em>Clone...</em> button.</p>
<p><a href="https://archive.org/download/elopio-screenshots2/clone/2-clone.png"> <img src="https://archive.org/download/elopio-screenshots2/clone/2-clone.png" alt="image"></a></p>
<p>A dialog will be opened, where you can enter the new virtual machine details.</p>
<p><a href="https://archive.org/download/elopio-screenshots2/clone/3-cloneinfo.png"> <img src="https://archive.org/download/elopio-screenshots2/clone/3-cloneinfo.png" alt="image"></a></p>
<p>I always write the date as part of the name, to remember when I created it. But the most important thing to do here is to make sure that the <em>Storage</em> option is set to <em>Clone this disk</em>. Otherwise, you will be sharing the disk with the pristine machine, which will pollute its state, the exact thing we are trying to avoid.</p>
<p>This will take some time while the whole disk is copied. But not long, and once it’s done you can freely play and pollute this clone, without affecting the pristine machine.</p>
<div class="references">

</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/free-software/" rel="tag">free software</a></li>
            <li><a class="tag p-category" href="../../categories/testing/" rel="tag">testing</a></li>
            <li><a class="tag p-category" href="../../categories/ubuntu/" rel="tag">ubuntu</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../ubuntu-testing-day-wrap-up-20161125/" rel="prev" title="Ubuntu Testing Day wrap up - 20161125">Previous post</a>
            </li>
            <li class="next">
                <a href="../ubuntu-testing-day-wrap-up-20161202/" rel="next" title="Ubuntu Testing Day wrap up - 20161202">Next post</a>
            </li>
        </ul></nav></aside></article><!--End of body content--><footer id="footer"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>Licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>. - Powered by <a href="https://getnikola.com" rel="nofollow">Nikola</a>
            
            
        </footer>
</div>
</div>


        <script src="../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
